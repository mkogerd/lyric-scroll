<!DOCTYPE html>
<html>
	<body>
		<textarea id='textarea_id' style="height:90vh; width:100%; color:blue; text-align:center; font-size:50px">
Hallelujah
Leonard Cohen

Now, I've heard there was a secret chord
That David played, and it pleased the Lord
But you don't really care for music, do you?
It goes like this, the fourth, the fifth
The minor fall, the major lift
The baffled king composing hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Your faith was strong but you needed proof
You saw her bathing on the roof
Her beauty and the moonlight overthrew ya
She tied you to a kitchen chair
She broke your throne, and she cut your hair
And from your lips she drew the hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
You say I took the name in vain
I don't even know the name
But if I did, well really, what's it to you?
There's a blaze of light in every word
It doesn't matter which you heard
The holy or the broken hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
I did my best, it wasn't much
I couldn't feel, so I tried to touch
I've told the truth, I didn't come to fool you
And even though it all went wrong
I'll stand before the lord of song
With nothing on my tongue but hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah
Hallelujah

		</textarea>
		<p id="debug"></p>
	</body>
</html>
<script>
	// Variables
	var scroll = false;
	var textarea = document.getElementById('textarea_id');
	var t1, t2, t3;
	var count = 0;
	var speed = 0;
	t1 = (new Date()).getTime();
	
	// Keypress logic
	document.body.onkeyup = function(e){
		if(e.keyCode == 32){
			t3 = t2;
			t2 = t1;
			t1 = (new Date()).getTime();
			count++;
			if(count > 2){
			scroll = true;
				speed = ((t1-t2)+(t2-t3))/20;	// Arbitrary division to demonstrate speed
				run();
			}
			if((t1-t2) > 2000 && scroll){	
				scroll = false;
				count = 0;
			}
		}
	} 
	
	// Scrolling Function
	function run(){
		textarea.scrollTop += 1;
		if(scroll){
			window.setTimeout(run, speed); 
		}
	}
	
	// Debugging Info
	setInterval(function(){
		document.getElementById("debug").innerHTML = "speed:"+speed+"\ncount: "+count+"\nscroll: "+scroll;
		if (scroll){
			//textarea.scrollTop += 1;
			var dif = Number(t2) - Number(t1);
			//textarea.value+=(t1-t2)+' '+count+'\n';
			//textarea.scrollTop = textarea.scrollHeight;
		}
	}, (10));
</script>